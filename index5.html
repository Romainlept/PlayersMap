<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Globe with Always-Visible Labels and Hover Info</title>
  <style>
    body { margin: 0; overflow: hidden; }
    #globeViz { width: 100vw; height: 100vh; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/globe.gl"></script>
</head>
<body>
  <div id="globeViz"></div>
  <script>
    // Example data with extra info for hover
    const points = [
      {
        name: "Name 1",
        lat: 40,
        lng: -70,
        address: "Address 1",
        activity: "Activity 1",
        status: "Status 1"
      },
      {
        name: "Name 2",
        lat: 30,
        lng: 100,
        address: "Address 2",
        activity: "Activity 2",
        status: "Status 2"
      }
    ];
    const arcs = [
      { startLat: 40, startLng: -70, endLat: 30, endLng: 100 }
    ];

    // Initialize the globe
    const globe = Globe()
      .globeImageUrl('https://cdn.jsdelivr.net/npm/three-globe/example/img/earth-night.jpg')
      .pointsData(points)
      .pointLat(d => d.lat)
      .pointLng(d => d.lng)
      .pointLabel(d => `${d.name}\nAddress: ${d.address}\nActivity: ${d.activity}\nStatus: ${d.status}`)
      .pointColor(() => 'red')
      .pointAltitude(0.1)
      .pointRadius(0.2)
      .arcsData(arcs)
      .arcColor(() => 'white')
      (document.getElementById('globeViz'));

    // Always show the name as a label (not affected by zoom)
    globe.labelsData(points)
      .labelLat(d => d.lat)
      .labelLng(d => d.lng)
      .labelText(d => d.name)
      .labelSize(0.3)
      .labelDotRadius(0.2)
      .labelColor(() => 'white');

    // Optional: Hide labels on zoom out (comment out to always show)
    /*
    let isZoomedIn = true;
    globe.onZoom(({ zoom }) => {
      if (zoom > 0.7) {
        if (!isZoomedIn) {
          globe.labelsData(points);
          isZoomedIn = true;
        }
      } else {
        if (isZoomedIn) {
          globe.labelsData([]);
          isZoomedIn = false;
        }
      }
    });
    */
  </script>
</body>
</html>
